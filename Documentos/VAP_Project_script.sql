CREATE DATABASE VAP_Project
USE VAP_Project

-- -----------------------------------------------------
-- Table administrador
-- -----------------------------------------------------
CREATE TABLE administrador (
  id_administrador INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
  txt_correo_admin VARCHAR(45) NOT NULL,
  txt_contraseña_admin VARBINARY(MAX) NOT NULL);

-- -----------------------------------------------------
-- Table cliente
-- -----------------------------------------------------
CREATE TABLE cliente (
  id_cliente INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
  txt_nombre_cliente VARCHAR(20) NOT NULL,
  txt_apellidos_cliente VARCHAR(40) NOT NULL,
  int_celular_cliente BIGINT NOT NULL,
  txt_correo_cliente VARCHAR(45) NOT NULL,
  txt_contraseña_cliente VARBINARY(MAX) NOT NULL);

-- -----------------------------------------------------
-- Table producto
-- -----------------------------------------------------
CREATE TABLE producto (
  id_prenda INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
  txt_tipo_prenda VARCHAR(8) CHECK(txt_tipo_prenda IN('playera', 'sudadera')) NOT NULL,
  txt_concepto_prenda VARCHAR(45) NOT NULL,
  txt_marca_prenda VARCHAR(20) NOT NULL,
  dec_precio_prenda DECIMAL(6,2) NOT NULL,
  img_blanco_prenda IMAGE NOT NULL,
  img_negro_prenda IMAGE NOT NULL,
  txt_estado_prenda VARCHAR(13) CHECK(txt_estado_prenda IN('vigente', 'descontinuado')) NOT NULL DEFAULT 'vigente');

-- -----------------------------------------------------
-- Table variantes_producto
-- -----------------------------------------------------
CREATE TABLE variantes_producto (
  txt_id_variane VARCHAR(6) PRIMARY KEY NOT NULL,
  txt_color_prenda VARCHAR(6) CHECK(txt_color_prenda IN('negro', 'blanco')) NOT NULL,
  txt_talla_prenda VARCHAR(2) CHECK(txt_talla_prenda IN('CH', 'M', 'G', 'EG')) NOT NULL,
  int_cantidad_prenda INT NOT NULL,
  id_prenda INT NOT NULL,
  CONSTRAINT fk_variante_prenda FOREIGN KEY (id_prenda) REFERENCES producto (id_prenda));

-- -----------------------------------------------------
-- Table pedido
-- -----------------------------------------------------
CREATE TABLE pedido (
  id_pedido INT PRIMARY KEY NOT NULL IDENTITY(1,1),
  d_fecha_pedido DATE NOT NULL,
  dec_total_pedido DECIMAL(8,2) NOT NULL,
  txt_estado_pedido VARCHAR(9) CHECK(txt_estado_pedido IN('pendiente', 'empacado', 'enviado', 'entregado', 'cancelado')) NOT NULL DEFAULT 'pendiente',
  id_cliente INT NOT NULL,
  CONSTRAINT fk_pedido_cliente FOREIGN KEY (id_cliente) REFERENCES cliente (id_cliente));

-- -----------------------------------------------------
-- Table producto_seleccionado
-- -----------------------------------------------------
CREATE TABLE producto_seleccionado (
  int_cantidad_subpedido INT NOT NULL,
  txt_id_variante VARCHAR(6) NOT NULL,
  id_pedido INT NOT NULL,
  CONSTRAINT fk_producto_pedido FOREIGN KEY (txt_id_variante) REFERENCES variantes_producto (txt_id_variane),
  CONSTRAINT fk_pedido_completo FOREIGN KEY (id_pedido) REFERENCES pedido (id_pedido));

-- -----------------------------------------------------
-- Table venta
-- -----------------------------------------------------
CREATE TABLE venta (
  id_venta INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
  id_pedido INT NOT NULL,
  CONSTRAINT fk_venta_pedido FOREIGN KEY (id_pedido) REFERENCES pedido (id_pedido));



--------------------------
--INSERTS
---------------------------
INSERT producto VALUES 
('sudadera', 
'Logo Trafalgar',
'Perrona', 
220, 
'1111111111111111111111111111111111111111
1111111111111110000000111111111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111100000000000111111111111111
1111111111111100000000000011111111111111
1111111111100000110100010000011111111111
1111111111000011111111111000001111111111
1111111110001111111111111100000111111111
1111111110111111111111111111000111111111
1111111100111111110100111111100011111111
1111111100111111110100111111100011111111
1111111100111110001111010111100011111111
1111111000111100000110000011100011111111
1111111000111100100110010011100001111111
1111111000111110111011110111100001111111
1111111000011110000010000111100001111111
1111111000011100010110000011100001111111
1111111000011100010110000011000000111111
1111111000011110010110000111000000111111
1111110000011111100000111111000000111111
1111111000001111110000111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111110000001111111
1111111000001111111111111110000001111111
1111111100011111111111111100000011111111
1111111100011111111111111100000111111111
1111111100111111111111111100000111111111
1111111111111111111111111110001111111111
1111111111111111111111111110011111111111
1111111111111111111111111110111111111111
1111111111111111111111111111111111111111
1111111111111111111111111100111111111111
1111111111111100111111111001111111111111
1111111111111100000000000011111111111111
1111111111111111100000011111111111111111
1111111111111111111111111111111111111111
',
'1111111111111111111111111111111111111111
1111111111111110000000111111111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111100000000000111111111111111
1111111111111100000000000011111111111111
1111111111100000110100010000011111111111
1111111111000011111111111000001111111111
1111111110001111111111111100000111111111
1111111110111111111111111111000111111111
1111111100111111110100111111100011111111
1111111100111111110100111111100011111111
1111111100111110001111010111100011111111
1111111000111100000110000011100011111111
1111111000111100100110010011100001111111
1111111000111110111011110111100001111111
1111111000011110000010000111100001111111
1111111000011100010110000011100001111111
1111111000011100010110000011000000111111
1111111000011110010110000111000000111111
1111110000011111100000111111000000111111
1111111000001111110000111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111110000001111111
1111111000001111111111111110000001111111
1111111100011111111111111100000011111111
1111111100011111111111111100000111111111
1111111100111111111111111100000111111111
1111111111111111111111111110001111111111
1111111111111111111111111110011111111111
1111111111111111111111111110111111111111
1111111111111111111111111111111111111111
1111111111111111111111111100111111111111
1111111111111100111111111001111111111111
1111111111111100000000000011111111111111
1111111111111111100000011111111111111111
1111111111111111111111111111111111111111
',
'vigente') 

INSERT producto VALUES 
('playera', 
'Logo Luffy',
'Chidas', 
120, 
'1111111111111111111111111111111111111111
1111111111111110000000111111111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111100000000000111111111111111
1111111111111100000000000011111111111111
1111111111100000110100010000011111111111
1111111111000011111111111000001111111111
1111111110001111111111111100000111111111
1111111110111111111111111111000111111111
1111111100111111110100111111100011111111
1111111100111111110100111111100011111111
1111111100111110001111010111100011111111
1111111000111100000110000011100011111111
1111111000111100100110010011100001111111
1111111000111110111011110111100001111111
1111111000011110000010000111100001111111
1111111000011100010110000011100001111111
1111111000011100010110000011000000111111
1111111000011110010110000111000000111111
1111110000011111100000111111000000111111
1111111000001111110000111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111110000001111111
1111111000001111111111111110000001111111
1111111100011111111111111100000011111111
1111111100011111111111111100000111111111
1111111100111111111111111100000111111111
1111111111111111111111111110001111111111
1111111111111111111111111110011111111111
1111111111111111111111111110111111111111
1111111111111111111111111111111111111111
1111111111111111111111111100111111111111
1111111111111100111111111001111111111111
1111111111111100000000000011111111111111
1111111111111111100000011111111111111111
1111111111111111111111111111111111111111
',
'1111111111111111111111111111111111111111
1111111111111110000000111111111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111000000000000011111111111111
1111111111111100000000000111111111111111
1111111111111100000000000011111111111111
1111111111100000110100010000011111111111
1111111111000011111111111000001111111111
1111111110001111111111111100000111111111
1111111110111111111111111111000111111111
1111111100111111110100111111100011111111
1111111100111111110100111111100011111111
1111111100111110001111010111100011111111
1111111000111100000110000011100011111111
1111111000111100100110010011100001111111
1111111000111110111011110111100001111111
1111111000011110000010000111100001111111
1111111000011100010110000011100001111111
1111111000011100010110000011000000111111
1111111000011110010110000111000000111111
1111110000011111100000111111000000111111
1111111000001111110000111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111111000001111111
1111111000001111111111111110000001111111
1111111000001111111111111110000001111111
1111111100011111111111111100000011111111
1111111100011111111111111100000111111111
1111111100111111111111111100000111111111
1111111111111111111111111110001111111111
1111111111111111111111111110011111111111
1111111111111111111111111110111111111111
1111111111111111111111111111111111111111
1111111111111111111111111100111111111111
1111111111111100111111111001111111111111
1111111111111100000000000011111111111111
1111111111111111100000011111111111111111
1111111111111111111111111111111111111111
',
'vigente') 